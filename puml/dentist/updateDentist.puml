@startuml Update Dentist (PUT)

footer Page %page% of %lastpage%
title "Update Dentist"

participant "User" as user
participant "<<JavaScript>>\n:server" as server
participant "<<router>>\n:dentists" as routerDentists
participant "<<controllers>>\n:dentists" as controllersDentists
participant "<<model>>\n:Dentist" as modelDentist
database "<<MongoDB>>\n:dentists" as DentistsDatabase

user -> server ++ : req.put('/api/v1/dentists/:id')
server -> routerDentists ++ : app.use('/api/v1/dentists', dentists)
routerDentists -> controllersDentists ++ : updateDentist()
controllersDentists -> modelDentist ++ : findByIdAndUpdate(req.params.id, req.body, { new: true, runValidators: true })
modelDentist -> DentistsDatabase ++ : DentistSchema
DentistsDatabase --> modelDentist -- : updated dentist

alt Dentist Found
    controllersDentists <-- modelDentist -- : updated dentist
    controllersDentists -> user -- : JSON response { success: true, data: dentist }
else Dentist Not Found
    controllersDentists -> user -- : JSON response { success: false }
end

@enduml
